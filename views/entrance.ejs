<%- include("./partials/header") %>
<script src="https://code.jquery.com/jquery-3.5.1.min.js"
  integrity="sha256-9/aliU8dGd2tb6OSsuzixeV4y/faTqgFtohetphbbj0=" crossorigin="anonymous"></script>
  <script src="/socket.io/socket.io.js"></script>

  <!-- <form action="/room" method="POST"> -->
    <input class="form-control form-group" type="text" name="ID" id="ID" placeholder="請輸入id">
    <input class="form-control form-group" type="text" name="username" id="username" placeholder="請輸入名稱">
    <input class="form-control form-group" type="text" name="roomNum" id="roomID" placeholder="請輸入房間號碼" required>
    <button id="enterRoom" class="form-control btn btn-primary">加入房間!</button>
    <button id="openRoom" class="form-control btn btn-primary">開新房間!</button>
  <!-- </form> -->

  <script>
    $(document).ready(function () {
      //進入房間
      var socket = io();
      $('#enterRoom').click(function () {
        socket.emit('enterRoom', {roomNum: $("#roomID").val(), username: $("#username").val(), ID: $("#ID").val()});
        socket.emit('reqRole', {roomNum:'9487', ID:'asdasd'});
      })

      socket.on('resRole', (data)=>{
        console.log(data);
      })

      //開新房間
      $('#openRoom').click(function () {
        var socket = io();
        socket.emit('openRoom', { gameType: 1, ratio: 0.7, initMoney: 100,
        saleMin: 0, saleMax: 130, buyMin: 0, buyMax: 130, item: "apple",
        username: $("#username").val(), ID: $("#ID").val() });
      });
    });
  </script>

<%- include("./partials/footer") %>